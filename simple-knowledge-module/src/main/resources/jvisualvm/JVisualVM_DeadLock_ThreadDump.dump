2012-11-12 21:13:10
Full thread dump Java HotSpot(TM) 64-Bit Server VM (22.1-b02 mixed mode):

"RMI TCP Connection(6)-192.168.0.109" daemon prio=6 tid=0x0000000007cf6800 nid=0x1768 runnable [0x000000000a43f000]
   java.lang.Thread.State: RUNNABLE
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.io.BufferedInputStream.fill(Unknown Source)
	at java.io.BufferedInputStream.read(Unknown Source)
	- locked <0x00000000ebb62af8> (a java.io.BufferedInputStream)
	at java.io.FilterInputStream.read(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- <0x00000000ebb62d58> (a java.util.concurrent.ThreadPoolExecutor$Worker)

"RMI TCP Connection(5)-192.168.0.109" daemon prio=6 tid=0x0000000007cf5800 nid=0x109c runnable [0x000000000a08e000]
   java.lang.Thread.State: RUNNABLE
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.io.BufferedInputStream.fill(Unknown Source)
	at java.io.BufferedInputStream.read(Unknown Source)
	- locked <0x00000000ebb720c8> (a java.io.BufferedInputStream)
	at java.io.FilterInputStream.read(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- <0x00000000ebc08868> (a java.util.concurrent.ThreadPoolExecutor$Worker)

"RMI TCP Connection(4)-192.168.0.109" daemon prio=6 tid=0x0000000007cf5000 nid=0x1638 runnable [0x000000000a2ee000]
   java.lang.Thread.State: RUNNABLE
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.io.BufferedInputStream.fill(Unknown Source)
	at java.io.BufferedInputStream.read(Unknown Source)
	- locked <0x00000000ebb7a0c8> (a java.io.BufferedInputStream)
	at java.io.FilterInputStream.read(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- <0x00000000ebc088f8> (a java.util.concurrent.ThreadPoolExecutor$Worker)

"JMX server connection timeout 22" daemon prio=6 tid=0x0000000007cf4000 nid=0x1728 in Object.wait() [0x000000000a1af000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000ebb80068> (a [I)
	at java.lang.Object.wait(Object.java:503)
	at com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(Unknown Source)
	- locked <0x00000000ebb80068> (a [I)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"RMI TCP Connection(3)-192.168.0.109" daemon prio=6 tid=0x0000000007cf3800 nid=0x1718 in Object.wait() [0x0000000009f8d000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000ebb801e0> (a com.sun.jmx.remote.internal.ArrayNotificationBuffer)
	at com.sun.jmx.remote.internal.ArrayNotificationBuffer.fetchNotifications(Unknown Source)
	- locked <0x00000000ebb801e0> (a com.sun.jmx.remote.internal.ArrayNotificationBuffer)
	at com.sun.jmx.remote.internal.ArrayNotificationBuffer$ShareBuffer.fetchNotifications(Unknown Source)
	at com.sun.jmx.remote.internal.ServerNotifForwarder.fetchNotifs(Unknown Source)
	at javax.management.remote.rmi.RMIConnectionImpl$2.run(Unknown Source)
	at javax.management.remote.rmi.RMIConnectionImpl$2.run(Unknown Source)
	at javax.management.remote.rmi.RMIConnectionImpl.fetchNotifications(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at sun.rmi.server.UnicastServerRef.dispatch(Unknown Source)
	at sun.rmi.transport.Transport$1.run(Unknown Source)
	at sun.rmi.transport.Transport$1.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- <0x00000000ebb806d8> (a java.util.concurrent.ThreadPoolExecutor$Worker)

"RMI TCP Connection(idle)" daemon prio=6 tid=0x0000000007c57000 nid=0x1568 waiting on condition [0x0000000009dbe000]
   java.lang.Thread.State: TIMED_WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait for  <0x00000000ebb62db8> (a java.util.concurrent.SynchronousQueue$TransferStack)
	at java.util.concurrent.locks.LockSupport.parkNanos(Unknown Source)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(Unknown Source)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(Unknown Source)
	at java.util.concurrent.SynchronousQueue.poll(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"JMX server connection timeout 19" daemon prio=6 tid=0x0000000007cc8800 nid=0xec8 in Object.wait() [0x000000000897f000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000ebb63138> (a [I)
	at com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(Unknown Source)
	- locked <0x00000000ebb63138> (a [I)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"RMI Scheduler(0)" daemon prio=6 tid=0x0000000007c3f800 nid=0x1620 waiting on condition [0x000000000945e000]
   java.lang.Thread.State: TIMED_WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait for  <0x00000000ebbee490> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.parkNanos(Unknown Source)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(Unknown Source)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(Unknown Source)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"RMI TCP Connection(1)-192.168.0.109" daemon prio=6 tid=0x0000000007ccc000 nid=0x41c runnable [0x00000000092ce000]
   java.lang.Thread.State: RUNNABLE
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.net.SocketInputStream.read(Unknown Source)
	at java.io.BufferedInputStream.fill(Unknown Source)
	at java.io.BufferedInputStream.read(Unknown Source)
	- locked <0x00000000ebc0adc0> (a java.io.BufferedInputStream)
	at java.io.FilterInputStream.read(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- <0x00000000ebc083b0> (a java.util.concurrent.ThreadPoolExecutor$Worker)

"AnotherThenOneMethodWorker" prio=6 tid=0x0000000007ccb000 nid=0x15f8 waiting for monitor entry [0x00000000090ae000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at deadlock.DeadLockMain.anotherMethod(DeadLockMain.java:63)
	- waiting to lock <0x00000000ebc0c078> (a java.lang.Object)
	- locked <0x00000000ebc0c088> (a java.lang.Object)
	at deadlock.DeadLockMain$AnotherThenOneMethodWorker.doTask(DeadLockMain.java:159)
	at deadlock.DeadLockMain$AbstractWorker.run(DeadLockMain.java:98)
	at deadlock.DeadLockMain$DefaultWorker.run(DeadLockMain.java:119)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"OneThenAnotherMethodWorker" prio=6 tid=0x0000000007d24800 nid=0x1450 waiting for monitor entry [0x0000000008eef000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at deadlock.DeadLockMain.oneMethod(DeadLockMain.java:55)
	- waiting to lock <0x00000000ebc0c088> (a java.lang.Object)
	- locked <0x00000000ebc0c078> (a java.lang.Object)
	at deadlock.DeadLockMain$OneThenAnotherMethodWorker.doTask(DeadLockMain.java:148)
	at deadlock.DeadLockMain$AbstractWorker.run(DeadLockMain.java:98)
	at deadlock.DeadLockMain$DefaultWorker.run(DeadLockMain.java:119)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"AnotherMethodWorker" prio=6 tid=0x0000000007d24000 nid=0x10a8 waiting for monitor entry [0x0000000008d9f000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at deadlock.DeadLockMain.anotherMethod(DeadLockMain.java:62)
	- waiting to lock <0x00000000ebc0c088> (a java.lang.Object)
	at deadlock.DeadLockMain$AnotherMethodWorker.doTask(DeadLockMain.java:139)
	at deadlock.DeadLockMain$AbstractWorker.run(DeadLockMain.java:98)
	at deadlock.DeadLockMain$DefaultWorker.run(DeadLockMain.java:119)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"OneMethodWorker" prio=6 tid=0x0000000007c7a800 nid=0x1504 waiting for monitor entry [0x0000000008c3f000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at deadlock.DeadLockMain.oneMethod(DeadLockMain.java:54)
	- waiting to lock <0x00000000ebc0c078> (a java.lang.Object)
	at deadlock.DeadLockMain$OneMethodWorker.doTask(DeadLockMain.java:130)
	at deadlock.DeadLockMain$AbstractWorker.run(DeadLockMain.java:98)
	at deadlock.DeadLockMain$DefaultWorker.run(DeadLockMain.java:119)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"RMI TCP Accept-0" daemon prio=6 tid=0x0000000007c7c000 nid=0x14d8 runnable [0x000000000882e000]
   java.lang.Thread.State: RUNNABLE
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(Unknown Source)
	at java.net.AbstractPlainSocketImpl.accept(Unknown Source)
	at java.net.PlainSocketImpl.accept(Unknown Source)
	- locked <0x00000000ebc0c400> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(Unknown Source)
	at java.net.ServerSocket.accept(Unknown Source)
	at sun.management.jmxremote.LocalRMIServerSocketFactory$1.accept(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"RMI TCP Accept-3333" daemon prio=6 tid=0x0000000007c26800 nid=0x14cc runnable [0x00000000086bf000]
   java.lang.Thread.State: RUNNABLE
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(Unknown Source)
	at java.net.AbstractPlainSocketImpl.accept(Unknown Source)
	at java.net.PlainSocketImpl.accept(Unknown Source)
	- locked <0x00000000ebc23ce8> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(Unknown Source)
	at java.net.ServerSocket.accept(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"RMI TCP Accept-0" daemon prio=6 tid=0x0000000007c82000 nid=0x15e0 runnable [0x000000000858f000]
   java.lang.Thread.State: RUNNABLE
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(Unknown Source)
	at java.net.AbstractPlainSocketImpl.accept(Unknown Source)
	at java.net.PlainSocketImpl.accept(Unknown Source)
	- locked <0x00000000ebb7a3b8> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(Unknown Source)
	at java.net.ServerSocket.accept(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop(Unknown Source)
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"Service Thread" daemon prio=6 tid=0x0000000006663800 nid=0x1200 runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

"C2 CompilerThread1" daemon prio=10 tid=0x000000000665e800 nid=0x15e4 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

"C2 CompilerThread0" daemon prio=10 tid=0x000000000665b000 nid=0x11e4 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

"Attach Listener" daemon prio=10 tid=0x0000000006657000 nid=0x1204 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

"Signal Dispatcher" daemon prio=10 tid=0x0000000006656000 nid=0x15ec runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

"Finalizer" daemon prio=8 tid=0x00000000065d2800 nid=0xad4 in Object.wait() [0x000000000725e000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000ebb96d08> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	- locked <0x00000000ebb96d08> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)

   Locked ownable synchronizers:
	- None

"Reference Handler" daemon prio=10 tid=0x00000000065ca000 nid=0x414 in Object.wait() [0x00000000070af000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000ebb969a8> (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Object.java:503)
	at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)
	- locked <0x00000000ebb969a8> (a java.lang.ref.Reference$Lock)

   Locked ownable synchronizers:
	- None

"main" prio=6 tid=0x0000000001f1c000 nid=0xc44 waiting on condition [0x00000000021df000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
	at java.lang.Thread.sleep(Native Method)
	at deadlock.DeadLockMain.start(DeadLockMain.java:44)
	at deadlock.DeadLockMain.main(DeadLockMain.java:87)

   Locked ownable synchronizers:
	- None

"VM Thread" prio=10 tid=0x00000000065c1000 nid=0x15e8 runnable 

"GC task thread#0 (ParallelGC)" prio=6 tid=0x0000000001e5f800 nid=0x15d0 runnable 

"GC task thread#1 (ParallelGC)" prio=6 tid=0x0000000001e61800 nid=0xca8 runnable 

"GC task thread#2 (ParallelGC)" prio=6 tid=0x0000000001e63000 nid=0xce4 runnable 

"GC task thread#3 (ParallelGC)" prio=6 tid=0x0000000001e64800 nid=0x358 runnable 

"GC task thread#4 (ParallelGC)" prio=6 tid=0x0000000001e68000 nid=0xc8 runnable 

"GC task thread#5 (ParallelGC)" prio=6 tid=0x0000000001e69800 nid=0xadc runnable 

"GC task thread#6 (ParallelGC)" prio=6 tid=0x0000000001e6a800 nid=0x15dc runnable 

"GC task thread#7 (ParallelGC)" prio=6 tid=0x0000000001e6c000 nid=0xb98 runnable 

"VM Periodic Task Thread" prio=10 tid=0x0000000007c80800 nid=0x146c waiting on condition 

JNI global references: 152


Found one Java-level deadlock:
=============================
"AnotherThenOneMethodWorker":
  waiting to lock monitor 0x0000000007cdacc8 (object 0x00000000ebc0c078, a java.lang.Object),
  which is held by "OneThenAnotherMethodWorker"
"OneThenAnotherMethodWorker":
  waiting to lock monitor 0x00000000065d2100 (object 0x00000000ebc0c088, a java.lang.Object),
  which is held by "AnotherThenOneMethodWorker"

Java stack information for the threads listed above:
===================================================
"AnotherThenOneMethodWorker":
	at deadlock.DeadLockMain.anotherMethod(DeadLockMain.java:63)
	- waiting to lock <0x00000000ebc0c078> (a java.lang.Object)
	- locked <0x00000000ebc0c088> (a java.lang.Object)
	at deadlock.DeadLockMain$AnotherThenOneMethodWorker.doTask(DeadLockMain.java:159)
	at deadlock.DeadLockMain$AbstractWorker.run(DeadLockMain.java:98)
	at deadlock.DeadLockMain$DefaultWorker.run(DeadLockMain.java:119)
	at java.lang.Thread.run(Unknown Source)
"OneThenAnotherMethodWorker":
	at deadlock.DeadLockMain.oneMethod(DeadLockMain.java:55)
	- waiting to lock <0x00000000ebc0c088> (a java.lang.Object)
	- locked <0x00000000ebc0c078> (a java.lang.Object)
	at deadlock.DeadLockMain$OneThenAnotherMethodWorker.doTask(DeadLockMain.java:148)
	at deadlock.DeadLockMain$AbstractWorker.run(DeadLockMain.java:98)
	at deadlock.DeadLockMain$DefaultWorker.run(DeadLockMain.java:119)
	at java.lang.Thread.run(Unknown Source)

Found 1 deadlock.

